@{
    var accountModel = ViewBag.AccountInfo as BankingProject.DTO.AccountInfoViewModel;
}

<h1 class="app-page-title">@accountModel.Account.Name</h1>

<div class="app-card alert alert-dismissible shadow-sm mb-4 border-left-decoration" role="alert">
	<div class="inner">
		<div class="app-card-body p-3 p-lg-4">
			<div class="row">
                @foreach (var debitCard in accountModel.DebitCards)
                {
                    var userFullName = accountModel.UserFullName;
                    var year = debitCard.ExpireDate.Year % 2000;

                    var month = "";
                    if (debitCard.ExpireDate.Month < 10)
                        month = $"0{debitCard.ExpireDate.Month}";
                    else
                        month = debitCard.ExpireDate.Month.ToString();

                    <div class="col-md-6">
                        <div class="card-template">
                            <div class="chip">
                                <img src="~/images/debit-card-chip.png" style="width:50px;height:35px;border-radius:5px;" />
                            </div>
                            <div class="card-number">@debitCard.CardNumber.Substring(0, 4) @debitCard.CardNumber.Substring(4, 4)  @debitCard.CardNumber.Substring(8, 4)  @debitCard.CardNumber.Substring(12, 4)</div>
                            <div class="d-flex justify-content-between mt-4">
                                <div>
                                    <div class="card-holder">@userFullName</div>
                                    <div class="card-expiry">@month/@year</div>
                                </div>
                                <img src="https://upload.wikimedia.org/wikipedia/commons/0/04/Mastercard-logo.png" class="mastercard-logo" alt="Mastercard Logo">
                            </div>
                        </div>
                    </div>
                }
			</div>
            <br />
            <hr />
            <h4 class="app-page-title mt-2">Deposits</h4>
		</div>
	</div>
</div>
